<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>&lt;vscode-progress-bar&gt; Demo</title>
    <link
      rel="stylesheet"
      href="/node_modules/@vscode/codicons/dist/codicon.css"
      id="vscode-codicon-stylesheet"
    >
    <script
      type="module"
      src="/node_modules/@vscode-elements/webview-playground/dist/index.js"
    ></script>
    <script type="module" src="/dist/main.js"></script>
  </head>

  <body class="vscode-light">
    <main>
      <div class="story">
        <h2 class="story-title">Basic examples</h2>
        <div class="story-content">
          <component-preview>
            <div style="display: grid; gap: 12px; align-items: center">
              <div>
                <label>Indeterminate</label>
                <vscode-progress-bar aria-label="Loading"></vscode-progress-bar>
              </div>
              <div>
                <label>Determinate (value=60, max=100)</label>
                <vscode-progress-bar
                  aria-label="Progress"
                  value="60"
                  max="100"
                ></vscode-progress-bar>
              </div>
            </div>
          </component-preview>
        </div>
      </div>

      <div class="story">
        <h2 class="story-title">Inside a tab panel</h2>
        <div class="story-content">
          <component-preview>
            <vscode-tabs class="panel-example" panel>
              <vscode-tab-header slot="header">Build</vscode-tab-header>
              <vscode-tab-panel>
                <div style="padding: 8px">
                  <vscode-progress-bar
                    id="build-progress"
                    aria-label="Building"
                    value="0"
                    max="100"
                  ></vscode-progress-bar>
                </div>
              </vscode-tab-panel>

              <vscode-tab-header slot="header">Tasks</vscode-tab-header>
              <vscode-tab-panel>
                <div style="padding: 8px">
                  <vscode-progress-bar
                    aria-label="Fetching tasks"
                  ></vscode-progress-bar>
                </div>
              </vscode-tab-panel>
            </vscode-tabs>
          </component-preview>
          <style>
            .panel-example vscode-tab-panel {
              min-height: 48px;
            }
          </style>
          <script type="module">
            // Simulate build progress in the first tab panel
            const el = document.getElementById('build-progress');
            let v = 0;
            const timer = setInterval(() => {
              v += 5;
              el.value = v;
              if (v >= 100) {
                clearInterval(timer);
              }
            }, 250);
          </script>
        </div>
      </div>
    </main>
  </body>
</html>
